!function(){let t={cornerRadius:15,connectionRadius:13,cellWidth:95,cellHeight:80,rndSeed:Math.floor(1e3*Math.random()),scaleDownGraphics:1,totalFrames:60,randomPercent:25,cellAddType:"Random",colorBG:"rgb(161,161,161)",colorGRFC:"rgb(173,255,9)"},e=[1520,640],i=[500,1500],s,h,o=1,n,a,r,l,c,$,d,u=!1,_,g=document.getElementById("header-graphics-canvas"),f=g.getContext("2d");function b(){var l;s=(l=document.getElementById("header-graphics-container")).offsetWidth,h=l.offsetHeight,n=Math.abs(e[0]-s)/2,a=Math.abs(e[1]-h),s<i[0]?(o=s/i[0],n=Math.abs(e[0]-i[0])/2,a=Math.abs(e[1]-h)-Math.abs(e[1])*(o-1)):s>i[1]?(o=s/i[1],n=Math.abs(e[0]-i[1])/2,a=Math.abs(e[1]-h)-Math.abs(e[1])*(o-1)+e[1]*(o-1)):o=1,g.setAttribute("width",s*window.devicePixelRatio),g.setAttribute("height",h*window.devicePixelRatio),g.setAttribute("style","width:"+s+"px; height:"+h+"px;"),g.getContext("2d").scale(window.devicePixelRatio,window.devicePixelRatio),function i(){if(f.clearRect(0,0,s,h),f.fillStyle=t.colorBG,f.fillRect(0,0,s,h),$>d){let o=_++%t.totalFrames/t.totalFrames,n=p(o,0,1,0,e[0]);for(let a=0;a<r.length;a++){let l=r[a];l.active&&!l.appear&&l.distToPoint<n&&Math.random()>.5&&(l.appear=!0,d++)}}else u=!0,console.log("finnished");for(let c=0;c<r.length;c++){let g=r[c];g.active&&g.appear&&g.findNeighbours()}for(let b=0;b<r.length;b++){let w=r[b];w.appear&&w.show()}setTimeout(function(){u||requestAnimationFrame(i)},33.333333333333336)}()}window.addEventListener("resize",b,!1);let p=function(t,e,i,s,h,o){let n=(t-e)/(i-e)*(h-s)+s;return o?s<h?this.constrain(n,s,h):this.constrain(n,h,s):n},w=function(){f.fillStyle=t.colorGRFC,f.strokeStyle=t.colorGRFC,f.lineWidth=.5,f.stroke(),f.fill()};class x{constructor(t,e,i,s,h,o,n){[this.x,this.y,this.w,this.h,this.i,this.j,this.idx]=[t,e,i,s,h,o,n],this.active=!0,this.appear=!1,this.neighbours={west:!1,south:!1,east:!1,north:!1,nortWest:!1,southEast:!1}}findDistToPoint(t,e){this.distToPoint=Math.sqrt((t-this.x-this.w/2)**2+(e-this.y-this.h/2)**2)}findNeighbours(){try{if(this.i>0){let t=r[this.idx-1];t.active&&t.appear&&(this.neighbours.west=!0,t.neighbours.east=!0)}if(this.j>0){let e=r[this.idx-l];e.active&&e.appear&&(this.neighbours.north=!0,e.neighbours.south=!0)}if(this.i>0&&this.j>0){let i=r[this.idx-l-1];i.active&&i.appear&&(this.neighbours.northWest=!0,i.neighbours.southEast=!0)}if(this.i<l-1&&this.j>0){let s=r[this.idx-l+1];s.active&&s.appear&&(this.neighbours.northEast=!0,s.neighbours.southWest=!0)}}catch(h){console.log(h,this.idx)}}show(){var e,i,s,h,r,l,c,$,d,u,_,g;this.active&&(e=(this.x-n)*o,i=this.y*o+a,s=this.w*o,h=this.h*o,r=t.cornerRadius/t.scaleDownGraphics*o,l=this.neighbours,f.beginPath(),l.west||l.north||l.northWest&&!l.north&&!l.west?P(e,i,s,h,0,0):P(e,i,s,h,r,0),l.east||l.north||l.northEast&&!l.north&&!l.east?P(e,i,s,h,0,1):P(e,i,s,h,r,1),l.east||l.south||l.southEast&&!l.south&&!l.east?P(e,i,s,h,0,2):P(e,i,s,h,r,2),l.west||l.south||l.southWest&&!l.south&&!l.west?P(e,i,s,h,0,3):P(e,i,s,h,r,3),l.west||l.north||l.northWest&&!l.north&&!l.west?f.lineTo(e,i):f.lineTo(e,i+r),f.closePath(),w(),c=(this.x-n)*o,$=this.y*o+a,d=this.w*o,u=this.h*o,_=t.connectionRadius/t.scaleDownGraphics*o,(g=this.neighbours).northWest&&!g.north&&(f.beginPath(),v(c,$-_,c+_,$-_,c+_,$),f.lineTo(c,$),f.closePath(),w()),g.northWest&&!g.west&&(f.beginPath(),v(c-_,$,c-_,$+_,c,$+_),f.lineTo(c,$),f.closePath(),w()),g.northEast&&!g.north&&(f.beginPath(),v(c+d,$-_,c+d-_,$-_,c+d-_,$),f.lineTo(c+d,$),f.closePath(),w()),g.northEast&&!g.east&&(f.beginPath(),v(c+d+_,$,c+d+_,$+_,c+d,$+_),f.lineTo(c+d,$),f.closePath(),w()))}}function P(t,e,i,s,h,o){switch(o){case 0:v(t,e+h,t+h,e+h,t+h,e);break;case 1:v(t+i-h,e,t+i-h,e+h,t+i,e+h);break;case 2:v(t+i,e+s-h,t+i-h,e+s-h,t+i-h,e+s);break;case 3:v(t+h,e+s,t+h,e+s-h,t,e+s-h);break;default:console.log("check this line, something went wrong")}}function v(t,e,i,s,h,o){let n=t-i,a=e-s,r=h-i,l=o-s,c=n*n+a*a,$=c+n*r+a*l,d=4/3*(Math.sqrt(2*c*$)-$)/(n*l-a*r),u=i+n-d*a;f.lineTo(t,e),isNaN(u)||f.bezierCurveTo(u,s+a+d*n,i+r+d*l,s+l-d*r,h,o)}(function i(){r=[],$=0,d=0,_=0,l=Math.ceil(e[0]/t.cellWidth*t.scaleDownGraphics),c=Math.ceil(e[1]/t.cellHeight*t.scaleDownGraphics);for(let s=0;s<l;s++){let h=s*(t.cellWidth/t.scaleDownGraphics);for(let o=0;o<c;o++){let n=o*(t.cellHeight/t.scaleDownGraphics),a=s+o*l,u=new x(h,n,t.cellWidth/t.scaleDownGraphics,t.cellHeight/t.scaleDownGraphics,s,o,a);"Random"==t.cellAddType?(Math.random()>t.randomPercent/100?u.active=!1:$++,r.push(u)):console.log("cellAddType is not defined")}}r.sort(function(t,e){return t.idx-e.idx});for(let g=0;g<r.length;g++){let f=r[g];f.active&&(f.findNeighbours(),f.findDistToPoint(e[0]/2,e[1]/2))}})(),b()}();
